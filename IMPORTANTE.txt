Antonio, hay que cambiar una cosa más del fichero .env y es lo siguiente.

Ahora mismo debes tener el fichero con 3 líneas, ¿verdad?
Tu fichero debe verse algo parecido a esto:

MONGODB_URI=mongodb+srv://admin:eeeeeeeeee@nombre.zmpgnjs.mongodb.net/publications?retryWrites=true&w=majority
BACKEND_PORT=3001
NODE_ENV=development


Debes añadir una nueva línea, con especial atención de tener un nombre diferete al final (es una base de datos diferente)
La nueva línea es tal que así: 

TEST_MONGODB_URI=mongodb+srv://aadmin:eeeeeeeeee@nombre.zmpgnjs.mongodb.net/publicationsTESTFOREXAMPLE?retryWrites=true&w=majority


Los nombres que utilices para tus bases de datos pueden ser como tú quieras (en este ejemplo, he puesto son publications y publicationsTESTFOREXAMPLE, por poner algo que sea fácil de ver y entender).

No copies y pegues este código en tu fichero .env, si no que es mejor que lo hagas con lo que ya tengas en el tuyo, esto es solo un ejemplo y no funciona. 

Tu fichero, tras añadir la última línea debe quedar algo parecido a esto:

------------------------------------------------------- .env ------------------------------------------------------------
MONGODB_URI=mongodb+srv://admin:eeeeeeeeee@nombre.zmpgnjs.mongodb.net/publications?retryWrites=true&w=majority
BACKEND_PORT=3001
NODE_ENV=development

TEST_MONGODB_URI=mongodb+srv://aadmin:eeeeeeeeee@nombre.zmpgnjs.mongodb.net/publicationsTESTFOREXAMPLE?retryWrites=true&w=majority
---------------------------------------------------------------------------------------------------------------------------

Error connecting to MongoDB: The `uri` parameter to `openUri()` must be a string, got "undefined". Make sure the first parameter to `mongoose.connect()` or `mongoose.createConnection()` is a string.
▶ Nombre del paquete de tests
  ✖ comments are returned as JSON (10014.2141ms)
    Error [MongooseError]: Operation `comments.deleteMany()` buffering timed out after 10000ms
        at Timeout.<anonymous> (C:\Users\acabr\fis\publications\node_modules\mongoose\lib\drivers\node-mongodb-native\collection.js:185:23)
        at listOnTimeout (node:internal/timers:569:17)
        at process.processTimers (node:internal/timers:512:7)

¿Desea terminar el trabajo por lotes (S/N)? s

C:\Users\acabr\fis\publications>npm run test

> publications-microservice@0.0.0 test
> cross-env NODE_ENV=test node --test

Connected to MongoDB

▶ Nombre del paquete de tests
  ✔ comments are returned as JSON (913.9153ms)
  ▶ Creating comments...
    ✖ a valid comment can be added (112.0028ms)
      ReferenceError [Error]: commentsInDB is not defined
          at TestContext.<anonymous> (file:///C:/Users/acabr/fis/publications/src/tests/comment.test.js:95:30)
          at Test.runInAsyncScope (node:async_hooks:203:9)
          at Test.run (node:internal/test_runner/test:631:25)
          at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
          at async Promise.all (index 0)
          at async Suite.run (node:internal/test_runner/test:948:7)
          at async Suite.processPendingSubtests (node:internal/test_runner/test:374:7)

  ▶ Creating comments... (112.9234ms)

▶ Nombre del paquete de tests (1030.6314ms)

¿Desea terminar el trabajo por lotes (S/N)? s

C:\Users\acabr\fis\publications>npm run test

> publications-microservice@0.0.0 test
> cross-env NODE_ENV=test node --test

Connected to MongoDB

▶ Publication tests - with refreshed data for each test
  ✔ publications are returned as JSON (836.1513ms)
  ✔ there are 2 initial publications (all returned) (130.0408ms)
  ▶ Recovering publications...
    ✔ the first publication's category is RELAX (132.3681ms)
    ✔ the user 65b2aec262e19efa29bc3b1c has 2 publications (132.2588ms)
  ▶ Recovering publications... (265.6269ms)

  ▶ Creating publications...
    ✔ a valid publication can be added (198.8133ms)
    ✔ an added publication can be accessed by its generated id (252.4731ms)
    ✔ empty publication is not added (173.4018ms)
  ▶ Creating publications... (625.7232ms)

  ▶ Deleting publications...
    ✔ a publication can be deleted (225.8308ms)
  ▶ Deleting publications... (226.4677ms)

▶ Publication tests - with refreshed data for each test (2087.5602ms)

Connected to MongoDB

▶ Reaction tests - with refreshed data for each test
  ✔ reactions are returned as JSON (889.8249ms)
  ✔ there are 3 initial reactions (all returned) (139.6252ms)
  ▶ Recovering reactions...
    ✔ there are 2 LIKES in total (135.4577ms)
    ✔ publication with id 6740858db0f666cc0d25f89e has 2 reactions (143.2078ms)
    ✔ comment with id 6740858db0f666cc0d25f89c has 1 reactions (131.6061ms)
    ✔ there are 3 unseen reactions for user 65b2aec262e19efa29bc3b1a (143.8782ms)
  ▶ Recovering reactions... (555.358ms)

  ▶ Toggling reactions...
    ✔ valid reaction can be made on comment (314.2819ms)
    ✔ valid reaction can be made on publication (282.5724ms)
    ✔ reactions can't be assigned to a publication and a comment at the same time (182.7705ms)
    ✔ an user reacting with the same reaction on the same publication/comment, deletes the reaction (239.5585ms)
  ▶ Toggling reactions... (1020.9899ms)

  ▶ Checking notifications on reactions...
    ✔ user 65b2aec262e19efa29bc3b1a can set unread reactions as read (465.3925ms)
  ▶ Checking notifications on reactions... (465.9331ms)

▶ Reaction tests - with refreshed data for each test (3075.3724ms)

ℹ tests 19
ℹ suites 8
ℹ pass 19
ℹ fail 0
ℹ cancelled 0
ℹ skipped 0
ℹ todo 0
ℹ duration_ms 4222.6929

C:\Users\acabr\fis\publications>



